<lib-input>
  <mat-checkbox [formControl]="consentEnabled">
    <ng-container i18n>User Consent Enabled</ng-container>
    <mat-icon libHelp i18n-matTooltip
             matTooltip="Control whether consent is active/inactive for this service.">
    </mat-icon>
    <mat-hint align="end"><lib-hint [difference]="consentEnabled.difference()"></lib-hint></mat-hint>
  </mat-checkbox>
</lib-input>

<ng-container *ngIf="consentEnabled.value && !isEmpty( formData.options.availableAttributes )">
  <lib-input>
    <mat-form-field class="textInput">
      <mat-placeholder i18n>Excluded Attributes</mat-placeholder>
      <mat-select multiple [formControl]="excluded">
        <mat-option *ngFor="let opt of formData.options.availableAttributes" [value]="opt">
          {{ opt }}
        </mat-option>
      </mat-select>
      <mat-hint align="end"><lib-hint [difference]="excluded.difference()"></lib-hint></mat-hint>
    </mat-form-field>
    <mat-icon libHelp i18n-matTooltip
             matTooltip="Exclude the indicated attributes from consent.">
    </mat-icon>
  </lib-input>
</ng-container>

<ng-container *ngIf="consentEnabled.value && !isEmpty( formData.options.availableAttributes )">
  <lib-input>
    <mat-form-field class="textInput">
      <mat-placeholder i18n>Include Only Attributes</mat-placeholder>
      <mat-select multiple [formControl]="includeOnly">
        <mat-option *ngFor="let opt of formData.options.availableAttributes" [value]="opt">
          {{ opt }}
        </mat-option>
      </mat-select>
      <mat-hint align="end"><lib-hint [difference]="includeOnly.difference()"></lib-hint></mat-hint>
    </mat-form-field>
    <mat-icon libHelp i18n-matTooltip
             matTooltip="Force-include the indicated attributes in consent, provided attributes are resolved.">
    </mat-icon>
  </lib-input>
</ng-container>
