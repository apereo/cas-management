<lib-input>
  <mat-form-field class="textInput">
    <mat-placeholder i18n>OIDC Client ID</mat-placeholder>
    <input required matInput [formControl]="clientId">
    <mat-hint align="end"><lib-hint [difference]="clientId.difference()"></lib-hint></mat-hint>
  </mat-form-field>
  <mat-icon appHelp i18n-matTooltip
            matTooltip="OAuth client id for this OIDC client. Only applies to OIDC service types.">
  </mat-icon>
</lib-input>

<lib-input>
  <mat-form-field class="textInput">
    <mat-placeholder i18n>OIDC Client Secret</mat-placeholder>
    <input matInput required [type]="showOAuthSecret ? 'text' : 'password'"
           [formControl]="clientSecret">
    <mat-hint align="end"><lib-hint [difference]="clientSecret.difference()"></lib-hint></mat-hint>
  </mat-form-field>
  <mat-icon appHelp i18n-matTooltip
            matTooltip="Secret key for this OIDC client. Only applies to OIDC service types.">
  </mat-icon>
</lib-input>

<div>
  <mat-checkbox [(ngModel)]="showOAuthSecret">
    <ng-container i18n>Show Client Secret</ng-container>
    <mat-icon style="font-size: medium" i18n-matTooltip
              matTooltip="Enable to show your OIDC Client Secret.">help
    </mat-icon>
  </mat-checkbox>
</div>

<lib-input>
  <mat-checkbox [formControl]="bypassApprovalPrompt">
    <ng-container i18n>OIDC Bypass Approval Prompt</ng-container>
    <mat-icon appHelp i18n-matTooltip
              matTooltip="Indicates whether the OIDC confirmation screen should be displayed before accessing the service application.">
    </mat-icon>
    <mat-hint align="end"><lib-hint [difference]="bypassApprovalPrompt.difference()"></lib-hint></mat-hint>
  </mat-checkbox>
</lib-input>

<lib-input>
  <mat-checkbox [formControl]="generateRefreshToken">
    <ng-container i18n>OIDC Refresh Token Generation</ng-container>
    <mat-icon appHelp i18n-matTooltip
              matTooltip="Indicates whether a refresh token should be generated with the access token for this OIDC client.">
    </mat-icon>
    <mat-hint align="end"><lib-hint [difference]="generateRefreshToken.difference()"></lib-hint></mat-hint>
  </mat-checkbox>
</lib-input>

<lib-input>
  <mat-form-field class="textInput">
    <mat-placeholder i18n>Allowed Response Types</mat-placeholder>
    <mat-select multiple [formControl]="responseTypes">
      <mat-option *ngFor="let t of formData.options.oauth20ResponseTypes" [value]="t.value">{{ t.display }}</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-icon appHelp i18n-matTooltip
            matTooltip="Set of allowed response types that can be used with this service.  If no values are chosen all response types are allowed implicitly.">
  </mat-icon>
  <mat-hint align="end"><lib-hint [difference]="responseTypes.difference()"></lib-hint></mat-hint>
</lib-input>

<lib-input>
  <mat-form-field class="textInput">
    <mat-placeholder i18n>Allowed Grant Types</mat-placeholder>
    <mat-select multiple [formControl]="grantTypes">
      <mat-option *ngFor="let t of formData.options.oauth20GrantTypes" [value]="t.value">{{ t.display }}</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-icon appHelp i18n-matTooltip
            matTooltip="Set of allowed grant types that can be used with this service.  If no values are chosen all grant types are allowed implicitly.">
  </mat-icon>
  <mat-hint align="end"><lib-hint [difference]="grantTypes.difference()"></lib-hint></mat-hint>
</lib-input>

<lib-input>
  <mat-form-field class="textInput">
    <mat-placeholder i18n>JSON Web Keystore</mat-placeholder>
    <input matInput required [formControl]="jwks">
    <mat-hint align="end"><lib-hint [difference]="jwks.difference()"></lib-hint></mat-hint>
  </mat-form-field>
  <mat-icon appHelp i18n-matTooltip
            matTooltip="Location of the JSON web keystore to sign id tokens with.">
  </mat-icon>
</lib-input>

<lib-input>
  <mat-checkbox [formControl]="signIdToken">
    <ng-container i18n>Sign ID Token</ng-container>
    <mat-icon appHelp i18n-matTooltip
              matTooltip="Whether ID tokens should be signed.">
    </mat-icon>
    <mat-hint align="end"><lib-hint [difference]="signIdToken.difference()"></lib-hint></mat-hint>
  </mat-checkbox>
</lib-input>

<lib-input>
  <mat-checkbox [formControl]="implicit">
    <ng-container i18n>Enable Implicit</ng-container>
    <mat-icon appHelp i18n-matTooltip
              matTooltip="Indicates whether this service should support the implicit flow.">
    </mat-icon>
    <mat-hint align="end"><lib-hint [difference]="implicit.difference()"></lib-hint></mat-hint>
  </mat-checkbox>
</lib-input>

<lib-input>
  <mat-checkbox [formControl]="encryptIdToken">
    <ng-container i18n>Encrypt ID Token</ng-container>
    <mat-icon appHelp i18n-matTooltip
              matTooltip="Whether ID tokens should be encrypted.">
    </mat-icon>
    <mat-hint align="end"><lib-hint [difference]="encryptIdToken.difference()"></lib-hint></mat-hint>
  </mat-checkbox>
</lib-input>

<lib-input>
  <mat-form-field class="textInput">
    <mat-placeholder i18n>Encryption Algorithm</mat-placeholder>
    <input matInput required [matAutocomplete]="encryptAlgAuto"
           [formControl]="idTokenEncryptionAlg">
    <mat-hint align="end"><lib-hint [difference]="idTokenEncryptionAlg.difference()"></lib-hint></mat-hint>
  </mat-form-field>
  <mat-icon appHelp i18n-matTooltip
            matTooltip="Encryption algorithm to use with ID tokens.">
  </mat-icon>
  <mat-autocomplete #encryptAlgAuto="matAutocomplete">
    <mat-option *ngFor="let opt of formData.options.encryptAlgOptions" [value]="opt">{{ opt }}</mat-option>
  </mat-autocomplete>
</lib-input>

<lib-input>
  <mat-form-field class="textInput">
    <mat-placeholder i18n>Encryption Encoding Algorithm</mat-placeholder>
    <input matInput required [matAutocomplete]="encodingAlgAuto"
           [formControl]="idTokenEncryptionEncoding">
    <mat-hint align="end"><lib-hint [difference]="idTokenEncryptionEncoding.difference()"></lib-hint></mat-hint>
  </mat-form-field>
  <mat-icon appHelp i18n-matTooltip
            matTooltip="Encryption content encoding algorithm to use with ID tokens.">
  </mat-icon>
  <mat-autocomplete #encodingAlgAuto="matAutocomplete">
    <mat-option *ngFor="let opt of formData.options.encodingAlgOptions" [value]="opt">{{ opt }}</mat-option>
  </mat-autocomplete>
</lib-input>

<lib-input>
  <mat-form-field class="textInput">
    <mat-placeholder i18n>Subject Type</mat-placeholder>
    <mat-select [formControl]="subjectType">
      <mat-option *ngFor="let opt of formData.options.oidcSubjectTypes" [value]="opt">{{ opt }}</mat-option>
    </mat-select>
    <mat-hint align="end"><lib-hint [difference]="subjectType.difference()"></lib-hint></mat-hint>
  </mat-form-field>
  <mat-icon appHelp i18n-matTooltip
            matTooltip="Type to use when generating principal identifiers. Default is public.">
  </mat-icon>
</lib-input>

<ng-container *ngIf="subjectType.value === 'PAIRWISE'">
  <lib-input>
    <mat-form-field class="textInput">
      <mat-placeholder i18n>Sector Identifier URI</mat-placeholder>
      <input matInput [formControl]="sectorIdentifierUri">
      <mat-hint align="end"><lib-hint [difference]="sectorIdentifierUri.difference()"></lib-hint></mat-hint>
    </mat-form-field>
    <mat-icon appHelp i18n-matTooltip
              matTooltip="Host value of this URL is used as the sector identifier for the pairwise identifier
               calculation. If left undefined, the host value of the serviceId will be used instead.">
    </mat-icon>
  </lib-input>
</ng-container>

<ng-container *ngIf="dynamicallyRegistered">
  <lib-input>
    <mat-form-field class="textInput">
      <mat-placeholder i18n>Dynamically Registered At</mat-placeholder>
      <input matInput [formControl]="dynamicRegistrationDateTime">
      <mat-hint align="end"><lib-hint [difference]="dynamicRegistrationDateTime.difference()"></lib-hint></mat-hint>
    </mat-form-field>
    <mat-icon appHelp i18n-matTooltip
              matTooltip="Date service was dynamically registered.">
    </mat-icon>
  </lib-input>
</ng-container>
