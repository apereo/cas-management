<mat-table [dataSource]="dataSource">

    <ng-container cdkColumnDef="source">
        <mat-header-cell *cdkHeaderCellDef [ngClass]="'nameWidth'" i18n>Name</mat-header-cell>
        <mat-cell *cdkCellDef="let row" [ngClass]="'nameWidth'">
            <mat-form-field>
                <input matInput #text [matAutocomplete]="auto"
                       [(ngModel)]="row.key" (click)="selectedRow = row">
            </mat-form-field>

        </mat-cell>
    </ng-container>

    <ng-container cdkColumnDef="mapped">
        <mat-header-cell *cdkHeaderCellDef [ngClass]="'valueWidth'" i18n>Value</mat-header-cell>
        <mat-cell *cdkCellDef="let row" [ngClass]="'valueWidth'">
            <mat-form-field>
                <input matInput [disabled]="row.key == ''" [(ngModel)]="row.value">
            </mat-form-field>
        </mat-cell>
    </ng-container>

    <ng-container cdkColumnDef="delete">
        <mat-header-cell *cdkHeaderCellDef [ngClass]="'actionWidth'"></mat-header-cell>
        <mat-cell *cdkCellDef="let row" [ngClass]="'actionWidth'">
            <button mat-icon-button (click)="delete(row)">
                <mat-icon style="font-size: medium">delete</mat-icon>
            </button>
        </mat-cell>
    </ng-container>

    <mat-header-row *cdkHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *cdkRowDef="let row; columns: displayedColumns;"></mat-row>


</mat-table>
<div style="height:25px;padding-top: 5px;">
    <button mat-mini-fab (click)="addRow()" style="float:right;">+</button>
</div>

<mat-autocomplete #auto="matAutocomplete">
    <mat-option *ngFor="let opt of formData.registeredServiceProperties"
                [value]="opt.propertyName">{{ opt.propertyName }}
    </mat-option>
</mat-autocomplete>

